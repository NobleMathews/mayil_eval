{
    "id": "matplotlib__matplotlib-24362",
    "repo_name": "testbed/matplotlib__matplotlib__3.6",
    "task_id": 3893960530190234571,
    "title": "[Bug]: sharex and sharey don't accept 0 and 1 as bool values",
    "body": "### Bug summary\r\n\r\nWhen using `0` or `1` in place of `False` or `True` in `sharex` or `sharex` arguments of `pyplot.subplots` an error is raised.\r\n\r\n### Code for reproduction\r\n\r\n```python\r\nimport matplotlib.pyplot as plt\r\n\r\nfig, ax = plt.subplots(ncols=2,sharey=1)\r\n```\r\n\r\n\r\n### Actual outcome\r\n\r\nWe get the following error : \r\n```\r\nTraceback (most recent call last):\r\n  File \"/***/shareyArg.py\", line 3, in <module>\r\n    fig, ax = plt.subplots(ncols=2,sharey=1)\r\n  File \"/***/matplotlib/lib/matplotlib/pyplot.py\", line 1448, in subplots\r\n    axs = fig.subplots(nrows=nrows, ncols=ncols, sharex=sharex, sharey=sharey,\r\n  File \"/***/matplotlib/lib/matplotlib/figure.py\", line 889, in subplots\r\n    axs = gs.subplots(sharex=sharex, sharey=sharey, squeeze=squeeze,\r\n  File \"/***/matplotlib/lib/matplotlib/gridspec.py\", line 293, in subplots\r\n    _api.check_in_list([\"all\", \"row\", \"col\", \"none\"],\r\n  File \"/***/matplotlib/lib/matplotlib/_api/__init__.py\", line 131, in check_in_list\r\n    raise ValueError(msg)\r\nValueError: 1 is not a valid value for sharey; supported values are 'all', 'row', 'col', 'none'\r\n```\r\n\r\nNote that using `sharex` instead of `sharey` produces the same error (albeit with the following warning :\r\n```\r\nUserWarning: sharex argument to subplots() was an integer.  Did you intend to use subplot() (without 's')?\r\n```\r\nbut this is expected and not part of the present issue)\r\n\r\n### Expected outcome\r\n\r\nI expected values 1 and 0 to be understood as bool.\r\n\r\n\r\n\r\n### Additional information\r\n\r\nSuggested fix : \r\n\r\n```patch\r\ndiff --git a/lib/matplotlib/gridspec.py b/lib/matplotlib/gridspec.py\r\nindex 06dd3f19f6..32ee7c306e 100644\r\n--- a/lib/matplotlib/gridspec.py\r\n+++ b/lib/matplotlib/gridspec.py\r\n@@ -276,9 +276,9 @@ class GridSpecBase:\r\n             raise ValueError(\"GridSpec.subplots() only works for GridSpecs \"\r\n                              \"created with a parent figure\")\r\n \r\n-        if isinstance(sharex, bool):\r\n+        if isinstance(sharex, bool) or sharex == 1 or sharex == 0:\r\n             sharex = \"all\" if sharex else \"none\"\r\n-        if isinstance(sharey, bool):\r\n+        if isinstance(sharey, bool) or sharey == 1 or sharey == 0:\r\n             sharey = \"all\" if sharey else \"none\"\r\n         # This check was added because it is very easy to type\r\n         # `subplots(1, 2, 1)` when `subplot(1, 2, 1)` was intended.\r\n```\r\n\r\nMaybe not accepting 1 or 0 was done on purpose, but I did not find it very clear from the error message as `True` and `False` are accepted but not listed. \r\n\r\nI am happy to chat about an other fix, if this one doesn't do the trick. I can also create a PR in case you think this fix is good enough !\r\n\r\n### Operating system\r\n\r\nLinux 5.10.0-19-amd64 #1 SMP Debian 5.10.149-2\r\n\r\n### Matplotlib Version\r\n\r\n3.7.0.dev600+g0b6d3703ff\r\n\r\n### Matplotlib Backend\r\n\r\nTkAgg\r\n\r\n### Python version\r\n\r\n3.10.0\r\n\r\n### Jupyter version\r\n\r\nNot applicable\r\n\r\n### Installation\r\n\r\ngit checkout\n",
    "state": "closed",
    "repo_link": "https://github.com/testbed/matplotlib__matplotlib__3.6.git",
    "requested_commit": "",
    "mayil_response": "- Update the `subplots` and `GridSpecBase.subplots` methods to accept `0` and `1` as valid values for `sharex` and `sharey` by interpreting them as `False` and `True`, respectively.\n- Modify the error message to indicate that boolean values are accepted for `sharex` and `sharey`.\n- Ensure that the documentation for `subplots` and `GridSpecBase.subplots` reflects these changes.\n\n### Code snippets to check\n\n-  \u2192 [galleries](https://github.com/testbed/matplotlib__matplotlib__3.6/tree//galleries) \u2192 [examples](https://github.com/testbed/matplotlib__matplotlib__3.6/tree//galleries/examples) \u2192 [subplots_axes_and_figures](https://github.com/testbed/matplotlib__matplotlib__3.6/tree//galleries/examples/subplots_axes_and_figures)- [Lines 105 - 205](https://github.com/testbed/matplotlib__matplotlib__3.6/blob//galleries/examples/subplots_axes_and_figures/subplots_demo.py#L105-L205)\n\n This snippet includes examples of using 'sharex' and 'sharey' in subplots, which is directly related to the issue of accepting 0 and 1 as boolean values.\n-  \u2192 [galleries](https://github.com/testbed/matplotlib__matplotlib__3.6/tree//galleries) \u2192 [examples](https://github.com/testbed/matplotlib__matplotlib__3.6/tree//galleries/examples) \u2192 [subplots_axes_and_figures](https://github.com/testbed/matplotlib__matplotlib__3.6/tree//galleries/examples/subplots_axes_and_figures)- [Lines 1 - 57](https://github.com/testbed/matplotlib__matplotlib__3.6/blob//galleries/examples/subplots_axes_and_figures/shared_axis_demo.py#L1-L57)\n\n This snippet demonstrates the use of 'sharex' and 'sharey' in a subplot, which is relevant to the issue as it shows the expected behavior when these parameters are used correctly.\n-  \u2192 [galleries](https://github.com/testbed/matplotlib__matplotlib__3.6/tree//galleries) \u2192 [examples](https://github.com/testbed/matplotlib__matplotlib__3.6/tree//galleries/examples) \u2192 [subplots_axes_and_figures](https://github.com/testbed/matplotlib__matplotlib__3.6/tree//galleries/examples/subplots_axes_and_figures)- [Lines 1 - 40](https://github.com/testbed/matplotlib__matplotlib__3.6/blob//galleries/examples/subplots_axes_and_figures/ganged_plots.py#L1-L40)\n\n This snippet also demonstrates the use of 'sharex' in subplots and discusses the visual alignment of shared axes, which is relevant to understanding the context of the issue.\n-  \u2192 [galleries](https://github.com/testbed/matplotlib__matplotlib__3.6/tree//galleries) \u2192 [examples](https://github.com/testbed/matplotlib__matplotlib__3.6/tree//galleries/examples) \u2192 [subplots_axes_and_figures](https://github.com/testbed/matplotlib__matplotlib__3.6/tree//galleries/examples/subplots_axes_and_figures)- [Lines 1 - 24](https://github.com/testbed/matplotlib__matplotlib__3.6/blob//galleries/examples/subplots_axes_and_figures/share_axis_lims_views.py#L1-L24)\n\n This snippet explains the concept of sharing axis limits and views, which is relevant to the issue as it provides background on how 'sharex' and 'sharey' are intended to function.",
    "ai_cost": {
        "search_embedding": 1.3e-07,
        "issue_classifier": 0.000252,
        "snippet_processor": 0.06308000000000001,
        "issue_star_creation": 0.02484,
        "issue_star_solver": 0.07439,
        "bouncer": 0.02942
    },
    "mayil_collected_data": {
        "status": "completed",
        "start_time": 1711697571.373128,
        "relevant_snippets": [
            {
                "code": "ax4.plot(x, -y**2, 'tab:red')\n\nfor ax in fig.get_axes():\n    ax.label_outer()\n\n# %%\n# Sharing axes\n# \"\"\"\"\"\"\"\"\"\"\"\"\n#\n# By default, each Axes is scaled individually. Thus, if the ranges are\n# different the tick values of the subplots do not align.\n\nfig, (ax1, ax2) = plt.subplots(2)\nfig.suptitle('Axes values are scaled individually by default')\nax1.plot(x, y)\nax2.plot(x + 1, -y)\n\n# %%\n# You can use *sharex* or *sharey* to align the horizontal or vertical axis.\n\nfig, (ax1, ax2) = plt.subplots(2, sharex=True)\nfig.suptitle('Aligning x-axis using sharex')\nax1.plot(x, y)\nax2.plot(x + 1, -y)\n\n# %%\n# Setting *sharex* or *sharey* to ``True`` enables global sharing across the\n# whole grid, i.e. also the y-axes of vertically stacked subplots have the\n# same scale when using ``sharey=True``.\n\nfig, axs = plt.subplots(3, sharex=True, sharey=True)\nfig.suptitle('Sharing both axes')\naxs[0].plot(x, y ** 2)\naxs[1].plot(x, 0.3 * y, 'o')\naxs[2].plot(x, y, '+')\n\n# %%\n# For subplots that are sharing axes one set of tick labels is enough. Tick\n# labels of inner Axes are automatically removed by *sharex* and *sharey*.\n# Still there remains an unused empty space between the subplots.\n#\n# To precisely control the positioning of the subplots, one can explicitly\n# create a `.GridSpec` with `.Figure.add_gridspec`, and then call its\n# `~.GridSpecBase.subplots` method.  For example, we can reduce the height\n# between vertical subplots using ``add_gridspec(hspace=0)``.\n#\n# `.label_outer` is a handy method to remove labels and ticks from subplots\n# that are not at the edge of the grid.\n\nfig = plt.figure()\ngs = fig.add_gridspec(3, hspace=0)\naxs = gs.subplots(sharex=True, sharey=True)\nfig.suptitle('Sharing both axes')\naxs[0].plot(x, y ** 2)\naxs[1].plot(x, 0.3 * y, 'o')\naxs[2].plot(x, y, '+')\n\n# Hide x labels and tick labels for all but bottom plot.\nfor ax in axs:\n    ax.label_outer()\n\n# %%\n# Apart from ``True`` and ``False``, both *sharex* and *sharey* accept the\n# values 'row' and 'col' to share the values only per row or column.\n\nfig = plt.figure()\ngs = fig.add_gridspec(2, 2, hspace=0, wspace=0)\n(ax1, ax2), (ax3, ax4) = gs.subplots(sharex='col', sharey='row')\nfig.suptitle('Sharing x per column, y per row')\nax1.plot(x, y)\nax2.plot(x, y**2, 'tab:orange')\nax3.plot(x + 1, -y, 'tab:green')\nax4.plot(x + 2, -y**2, 'tab:red')\n\nfor ax in fig.get_axes():\n    ax.label_outer()\n\n# %%\n# If you want a more complex sharing structure, you can first create the\n# grid of axes with no sharing, and then call `.axes.Axes.sharex` or\n# `.axes.Axes.sharey` to add sharing info a posteriori.\n\nfig, axs = plt.subplots(2, 2)\naxs[0, 0].plot(x, y)\naxs[0, 0].set_title(\"main\")\naxs[1, 0].plot(x, y**2)\naxs[1, 0].set_title(\"shares x with main\")\naxs[1, 0].sharex(axs[0, 0])\naxs[0, 1].plot(x + 1, y + 1)\naxs[0, 1].set_title(\"unrelated\")\naxs[1, 1].plot(x + 2, y + 2)\naxs[1, 1].set_title(\"also unrelated\")\nfig.tight_layout()\n\n# %%\n# Polar axes\n# \"\"\"\"\"\"\"\"\"\"\n#",
                "filename": "galleries/examples/subplots_axes_and_figures/subplots_demo.py",
                "start_index": 2986,
                "end_index": 5917,
                "start_line": 105,
                "end_line": 205,
                "max_line": 211,
                "git_instance": "github",
                "repo_name": "testbed/matplotlib__matplotlib__3.6",
                "sha": ""
            },
            {
                "code": "\"\n        if 'sharex' in kwargs and 'sharey' in kwargs:\n            # The following line is added in v2.2 to avoid breaking Seaborn,\n            # which currently uses this internal API.\n            if kwargs[\"sharex\"] is not self and kwargs[\"sharey\"] is not self:\n                raise ValueError(\"Twinned Axes may share only one axis\")",
                "filename": "lib/matplotlib/axes/_base.py",
                "start_index": 168389,
                "end_index": 168726,
                "start_line": 35,
                "end_line": 4442,
                "max_line": 4654,
                "git_instance": "github",
                "repo_name": "testbed/matplotlib__matplotlib__3.6",
                "sha": ""
            },
            {
                "code": "\"\"\"\n===========\nShared axis\n===========\n\nYou can share the x- or y-axis limits for one axis with another by\npassing an `~.axes.Axes` instance as a *sharex* or *sharey* keyword argument.\n\nChanging the axis limits on one axes will be reflected automatically\nin the other, and vice-versa, so when you navigate with the toolbar\nthe Axes will follow each other on their shared axis.  Ditto for\nchanges in the axis scaling (e.g., log vs. linear).  However, it is\npossible to have differences in tick labeling, e.g., you can selectively\nturn off the tick labels on one Axes.\n\nThe example below shows how to customize the tick labels on the\nvarious axes.  Shared axes share the tick locator, tick formatter,\nview limits, and transformation (e.g., log, linear).  But the ticklabels\nthemselves do not share properties.  This is a feature and not a bug,\nbecause you may want to make the tick labels smaller on the upper\naxes, e.g., in the example below.\n\nIf you want to turn off the ticklabels for a given Axes (e.g., on\nsubplot(211) or subplot(212)), you cannot do the standard trick::\n\n   setp(ax2, xticklabels=[])\n\nbecause this changes the tick Formatter, which is shared among all\nAxes.  But you can alter the visibility of the labels, which is a\nproperty::\n\n  setp(ax2.get_xticklabels(), visible=False)\n\n\"\"\"\nimport matplotlib.pyplot as plt\nimport numpy as np\n\nt = np.arange(0.01, 5.0, 0.01)\ns1 = np.sin(2 * np.pi * t)\ns2 = np.exp(-t)\ns3 = np.sin(4 * np.pi * t)\n\nax1 = plt.subplot(311)\nplt.plot(t, s1)\nplt.tick_params('x', labelsize=6)\n\n# share x only\nax2 = plt.subplot(312, sharex=ax1)\nplt.plot(t, s2)\n# make these tick labels invisible\nplt.tick_params('x', labelbottom=False)\n\n# share x and y\nax3 = plt.subplot(313, sharex=ax1, sharey=ax1)\nplt.plot(t, s3)\nplt.xlim(0.01, 5.0)\nplt.show()",
                "filename": "galleries/examples/subplots_axes_and_figures/shared_axis_demo.py",
                "start_index": 0,
                "end_index": 1781,
                "start_line": 1,
                "end_line": 57,
                "max_line": 57,
                "git_instance": "github",
                "repo_name": "testbed/matplotlib__matplotlib__3.6",
                "sha": ""
            },
            {
                "code": "\"\"\"\n==========================\nCreating adjacent subplots\n==========================\n\nTo create plots that share a common axis (visually) you can set the hspace\nbetween the subplots to zero. Passing sharex=True when creating the subplots\nwill automatically turn off all x ticks and labels except those on the bottom\naxis.\n\nIn this example the plots share a common x-axis, but you can follow the same\nlogic to supply a common y-axis.\n\"\"\"\nimport matplotlib.pyplot as plt\nimport numpy as np\n\nt = np.arange(0.0, 2.0, 0.01)\n\ns1 = np.sin(2 * np.pi * t)\ns2 = np.exp(-t)\ns3 = s1 * s2\n\nfig, axs = plt.subplots(3, 1, sharex=True)\n# Remove vertical space between axes\nfig.subplots_adjust(hspace=0)\n\n# Plot each graph, and manually set the y tick values\naxs[0].plot(t, s1)\naxs[0].set_yticks(np.arange(-0.9, 1.0, 0.4))\naxs[0].set_ylim(-1, 1)\n\naxs[1].plot(t, s2)\naxs[1].set_yticks(np.arange(0.1, 1.0, 0.2))\naxs[1].set_ylim(0, 1)\n\naxs[2].plot(t, s3)\naxs[2].set_yticks(np.arange(-0.9, 1.0, 0.4))\naxs[2].set_ylim(-1, 1)\n\nplt.show()",
                "filename": "galleries/examples/subplots_axes_and_figures/ganged_plots.py",
                "start_index": 0,
                "end_index": 1014,
                "start_line": 1,
                "end_line": 40,
                "max_line": 40,
                "git_instance": "github",
                "repo_name": "testbed/matplotlib__matplotlib__3.6",
                "sha": ""
            },
            {
                "code": "\"\"\"\nSharing axis limits and views\n=============================\n\nIt's common to make two or more plots which share an axis, e.g., two subplots\nwith time as a common axis.  When you pan and zoom around on one, you want the\nother to move around with you.  To facilitate this, matplotlib Axes support a\n``sharex`` and ``sharey`` attribute.  When you create a `~.pyplot.subplot` or\n`~.pyplot.axes`, you can pass in a keyword indicating what axes you want to\nshare with.\n\"\"\"\n\nimport matplotlib.pyplot as plt\nimport numpy as np\n\nt = np.arange(0, 10, 0.01)\n\nax1 = plt.subplot(211)\nax1.plot(t, np.sin(2*np.pi*t))\n\nax2 = plt.subplot(212, sharex=ax1)\nax2.plot(t, np.sin(4*np.pi*t))\n\nplt.show()",
                "filename": "galleries/examples/subplots_axes_and_figures/share_axis_lims_views.py",
                "start_index": 0,
                "end_index": 683,
                "start_line": 1,
                "end_line": 24,
                "max_line": 24,
                "git_instance": "github",
                "repo_name": "testbed/matplotlib__matplotlib__3.6",
                "sha": ""
            },
            {
                "code": "name: Bug Report\ndescription: Report a bug or issue with Matplotlib.\ntitle: \"[Bug]: \"\nbody:\n  - type: textarea\n    id: summary\n    attributes:\n      label: Bug summary\n      description:  Describe the bug in 1-2 short sentences\n      placeholder:\n      value:\n    validations:\n      required: true\n  - type: textarea\n    id: reproduction\n    attributes:\n      label: Code for reproduction\n      description: |\n        If possible, please provide a minimum self-contained example.\n      placeholder: Paste your code here. This field is automatically formatted as Python code.\n      render: python\n    validations:\n      required: true\n  - type: textarea\n    id: actual\n    attributes:\n      label: Actual outcome\n      description: |\n        Paste the output produced by the code provided above, e.g.\n        console output, images/videos produced by the code, any relevant screenshots/screencasts, etc.\n    validations:\n      required: true\n  - type: textarea\n    id: expected\n    attributes:\n      label: Expected outcome\n      description: Describe (or provide a visual example of) the expected outcome from the code snippet.\n    validations:\n      required: true\n  - type: textarea\n    id: details\n    attributes:\n      label: Additional information\n      description: |\n        - What are the conditions under which this bug happens? input parameters, edge cases, etc?\n        - Has this worked in earlier versions?\n        - Do you know why this bug is happening?\n        - Do you maybe even know a fix?\n  - type: input\n    id: operating-system\n    attributes:\n      label: Operating system\n      description: Windows, OS/X, Arch, Debian, Ubuntu, etc.\n  - type: input\n    id: matplotlib-version\n    attributes:\n      label: Matplotlib Version\n      description: \"From Python prompt: `import matplotlib; print(matplotlib.__version__)`\"\n    validations:\n      required: true\n  - type: input\n    id: matplotlib-backend\n    attributes:\n      label: Matplotlib Backend\n      description: \"From Python prompt: `import matplotlib; print(matplotlib.get_backend())`\"\n  - type: input\n    id: python-version\n    attributes:\n      label: Python version\n      description: \"In console: `python --version`\"\n  - type: input\n    id: jupyter-version\n    attributes:\n      label: Jupyter version\n      description: \"In console: `jupyter notebook --version` or `jupyter lab --version`\"\n  - type: dropdown\n    id: install\n    attributes:\n      label: Installation\n      description: How did you install matplotlib?\n      options:\n        - pip\n        - conda\n        - Linux package manager\n        - from source (.tar.gz)\n        - git checkout",
                "filename": ".github/ISSUE_TEMPLATE/bug_report.yml",
                "start_index": 0,
                "end_index": 2631,
                "start_line": 1,
                "end_line": 86,
                "max_line": 86,
                "git_instance": "github",
                "repo_name": "testbed/matplotlib__matplotlib__3.6",
                "sha": ""
            },
            {
                "code": "\"\"\"\n=====================\nFixing too many ticks\n=====================\n\nOne common cause for unexpected tick behavior is passing a list of strings\ninstead of numbers or datetime objects. This can easily happen without notice\nwhen reading in a comma-delimited text file. Matplotlib treats lists of strings\nas *categorical* variables\n(:doc:`/gallery/lines_bars_and_markers/categorical_variables`), and by default\nputs one tick per category, and plots them in the order in which they are\nsupplied.  If this is not desired, the solution is to convert the strings to\na numeric type as in the following examples.\n\n\"\"\"\n\n# %%\n# Example 1: Strings can lead to an unexpected order of number ticks\n# ------------------------------------------------------------------\n\nimport matplotlib.pyplot as plt\nimport numpy as np\n\nfig, ax = plt.subplots(1, 2, layout='constrained', figsize=(6, 2.5))\nx = ['1', '5', '2', '3']\ny = [1, 4, 2, 3]\nax[0].plot(x, y, 'd')\nax[0].tick_params(axis='x', color='r', labelcolor='r')\nax[0].set_xlabel('Categories')\nax[0].set_title('Ticks seem out of order / misplaced')\n\n# convert to numbers:\nx = np.asarray(x, dtype='float')\nax[1].plot(x, y, 'd')\nax[1].set_xlabel('Floats')\nax[1].set_title('Ticks as expected')\n\n# %%\n# Example 2: Strings can lead to very many ticks\n# ----------------------------------------------\n# If *x* has 100 elements, all strings, then we would have 100 (unreadable)\n# ticks, and again the solution is to convert the strings to floats:\n\nfig, ax = plt.subplots(1, 2, figsize=(6, 2.5))\nx = [f'{xx}' for xx in np.arange(100)]\ny = np.arange(100)\nax[0].plot(x, y)\nax[0].tick_params(axis='x', color='r', labelcolor='r')\nax[0].set_title('Too many ticks')\nax[0].set_xlabel('Categories')\n\nax[1].plot(np.asarray(x, float), y)\nax[1].set_title('x converted to numbers')\nax[1].set_xlabel('Floats')\n\n# %%\n# Example 3: Strings can lead to an unexpected order of datetime ticks\n# --------------------------------------------------------------------\n# A common case is when dates are read from a CSV file, they need to be\n# converted from strings to datetime objects to get the proper date locators\n# and formatters.\n\nfig, ax = plt.subplots(1, 2, layout='constrained', figsize=(6, 2.75))\nx = ['2021-10-01', '2021-11-02', '2021-12-03', '2021-09-01']\ny = [0, 2, 3, 1]\nax[0].plot(x, y, 'd')\nax[0].tick_params(axis='x', labelrotation=90, color='r', labelcolor='r')\nax[0].set_title('Dates out of order')\n\n# convert to datetime64\nx = np.asarray(x, dtype='datetime64[s]')\nax[1].plot(x, y, 'd')\nax[1].tick_params(axis='x', labelrotation=90)\nax[1].set_title('x converted to datetimes')\n\nplt.show()",
                "filename": "galleries/examples/ticks/ticks_too_many.py",
                "start_index": 0,
                "end_index": 2608,
                "start_line": 1,
                "end_line": 76,
                "max_line": 76,
                "git_instance": "github",
                "repo_name": "testbed/matplotlib__matplotlib__3.6",
                "sha": ""
            },
            {
                "code": "name: Feature Request\ndescription: Suggest something to add to Matplotlib!\ntitle: \"[ENH]: \"\nlabels: [New feature]\nbody:\n  - type: markdown\n    attributes:\n      value: |\n         Please search the [issues](https://github.com/matplotlib/matplotlib/issues) for relevant feature requests before creating a new feature request.\n  - type: textarea\n    id: problem\n    attributes:\n      label: Problem\n      description: Briefly describe the problem this feature will solve. (2-4 sentences)\n      placeholder: |\n        * I'm always frustrated when [...] because [...]\n        * I would like it if [...] happened when I [...] because [...]\n        * Here is a sample image of what I am asking for [...]\n    validations:\n      required: true\n  - type: textarea\n    id: solution\n    attributes:\n      label: Proposed solution\n      description: Describe a way to accomplish the goals of this feature request.",
                "filename": ".github/ISSUE_TEMPLATE/feature_request.yml",
                "start_index": 0,
                "end_index": 900,
                "start_line": 1,
                "end_line": 25,
                "max_line": 25,
                "git_instance": "github",
                "repo_name": "testbed/matplotlib__matplotlib__3.6",
                "sha": ""
            },
            {
                "code": "#!/usr/bin/env python3\n\n\"\"\"\nCheck that the version number of the install Matplotlib does not start with 0\n\nTo run:\n    $ python3 -m build .\n    $ pip install dist/matplotlib*.tar.gz for sdist\n    $ pip install dist/matplotlib*.whl for wheel\n    $ ./ci/check_version_number.py\n\"\"\"\nimport sys\n\nimport matplotlib\n\n\nprint(f\"Version {matplotlib.__version__} installed\")\nif matplotlib.__version__[0] == \"0\":\n    sys.exit(\"Version incorrectly starts with 0\")",
                "filename": "ci/check_version_number.py",
                "start_index": 0,
                "end_index": 451,
                "start_line": 1,
                "end_line": 19,
                "max_line": 19,
                "git_instance": "github",
                "repo_name": "testbed/matplotlib__matplotlib__3.6",
                "sha": ""
            },
            {
                "code": "axs1 = subfigs[1].subplots(3, 1)\nsubfigs[1].suptitle('subfigs[1]')\nsubfigs[1].supylabel('ylabel for subfigs[1]')\n\n# %%\n# It is also possible to nest Axes using `~.pyplot.subplot_mosaic` using\n# nested lists.  This method does not use subfigures, like above, so lacks\n# the ability to add per-subfigure ``suptitle`` and ``supxlabel``, etc.\n# Rather it is a convenience wrapper around the `~.SubplotSpec.subgridspec`\n# method described below.\n\ninner = [['innerA'],\n         ['innerB']]\nouter = [['upper left',  inner],\n          ['lower left', 'lower right']]\n\nfig, axd = plt.subplot_mosaic(outer, layout=\"constrained\")\nfor k in axd:\n    annotate_axes(axd[k], f'axd[\"{k}\"]')\n\n# %%\n# Low-level and advanced grid methods\n# ===================================\n#\n# Internally, the arrangement of a grid of Axes is controlled by creating\n# instances of `~.GridSpec` and `~.SubplotSpec`. *GridSpec* defines a\n# (possibly non-uniform) grid of cells. Indexing into the *GridSpec* returns\n# a SubplotSpec that covers one or more grid cells, and can be used to\n# specify the location of an Axes.\n#\n# The following examples show how to use low-level methods to arrange Axes\n# using *GridSpec* objects.\n#\n# Basic 2x2 grid\n# --------------\n#\n# We can accomplish a 2x2 grid in the same manner as\n# ``plt.subplots(2, 2)``:\n\nfig = plt.figure(figsize=(5.5, 3.5), layout=\"constrained\")\nspec = fig.add_gridspec(ncols=2, nrows=2)\n\nax0 = fig.add_subplot(spec[0, 0])\nannotate_axes(ax0, 'ax0')\n\nax1 = fig.add_subplot(spec[0, 1])\nannotate_axes(ax1, 'ax1')\n\nax2 = fig.add_subplot(spec[1, 0])\nannotate_axes(ax2, 'ax2')\n\nax3 = fig.add_subplot(spec[1, 1])\nannotate_axes(ax3, 'ax3')\n\nfig.suptitle('Manually added subplots using add_gridspec')\n\n# %%\n# Axes spanning rows or grids in a grid\n# -------------------------------------\n#\n# We can index the *spec* array using `NumPy slice syntax\n# <https://numpy.org/doc/stable/reference/arrays.indexing.html>`_\n# and the new Axes will span the slice.  This would be the same\n# as ``fig, axd = plt.subplot_mosaic([['ax0', 'ax0'], ['ax1', 'ax2']], ...)``:\n\nfig = plt.figure(figsize=(5.5, 3.5), layout=\"constrained\")\nspec = fig.add_gridspec(2, 2)\n\nax0 = fig.add_subplot(spec[0, :])\nannotate_axes(ax0, 'ax0')\n\nax10 = fig.add_subplot(spec[1, 0])\nannotate_axes(ax10, 'ax10')\n\nax11 = fig.add_subplot(spec[1, 1])\nannotate_axes(ax11, 'ax11')\n\nfig.suptitle('Manually added subplots, spanning a column')\n\n# %%\n# Manual adjustments to a *GridSpec* layout\n# -----------------------------------------\n#\n# When a  *GridSpec* is explicitly used, you can adjust the layout\n# parameters of subplots that are created from the  *GridSpec*.  Note this\n# option is not compatible with *constrained layout* or\n# `.Figure.tight_layout` which both ignore *left* and *right* and adjust\n# subplot sizes to fill the figure.  Usually such manual placement\n# requires iterations to make the Axes tick labels not overlap the Axes.\n#\n# These spacing parameters can also be passed to `~.pyplot.subplots` and",
                "filename": "galleries/users_explain/axes/arranging_axes.py",
                "start_index": 9153,
                "end_index": 12140,
                "start_line": 248,
                "end_line": 338,
                "max_line": 436,
                "git_instance": "github",
                "repo_name": "testbed/matplotlib__matplotlib__3.6",
                "sha": ""
            }
        ],
        "classification": "bug",
        "snippet_processor_task": {
            "galleries/examples/subplots_axes_and_figures/subplots_demo.py": [
                {
                    "chunk": {
                        "code": "ax4.plot(x, -y**2, 'tab:red')\n\nfor ax in fig.get_axes():\n    ax.label_outer()\n\n# %%\n# Sharing axes\n# \"\"\"\"\"\"\"\"\"\"\"\"\n#\n# By default, each Axes is scaled individually. Thus, if the ranges are\n# different the tick values of the subplots do not align.\n\nfig, (ax1, ax2) = plt.subplots(2)\nfig.suptitle('Axes values are scaled individually by default')\nax1.plot(x, y)\nax2.plot(x + 1, -y)\n\n# %%\n# You can use *sharex* or *sharey* to align the horizontal or vertical axis.\n\nfig, (ax1, ax2) = plt.subplots(2, sharex=True)\nfig.suptitle('Aligning x-axis using sharex')\nax1.plot(x, y)\nax2.plot(x + 1, -y)\n\n# %%\n# Setting *sharex* or *sharey* to ``True`` enables global sharing across the\n# whole grid, i.e. also the y-axes of vertically stacked subplots have the\n# same scale when using ``sharey=True``.\n\nfig, axs = plt.subplots(3, sharex=True, sharey=True)\nfig.suptitle('Sharing both axes')\naxs[0].plot(x, y ** 2)\naxs[1].plot(x, 0.3 * y, 'o')\naxs[2].plot(x, y, '+')\n\n# %%\n# For subplots that are sharing axes one set of tick labels is enough. Tick\n# labels of inner Axes are automatically removed by *sharex* and *sharey*.\n# Still there remains an unused empty space between the subplots.\n#\n# To precisely control the positioning of the subplots, one can explicitly\n# create a `.GridSpec` with `.Figure.add_gridspec`, and then call its\n# `~.GridSpecBase.subplots` method.  For example, we can reduce the height\n# between vertical subplots using ``add_gridspec(hspace=0)``.\n#\n# `.label_outer` is a handy method to remove labels and ticks from subplots\n# that are not at the edge of the grid.\n\nfig = plt.figure()\ngs = fig.add_gridspec(3, hspace=0)\naxs = gs.subplots(sharex=True, sharey=True)\nfig.suptitle('Sharing both axes')\naxs[0].plot(x, y ** 2)\naxs[1].plot(x, 0.3 * y, 'o')\naxs[2].plot(x, y, '+')\n\n# Hide x labels and tick labels for all but bottom plot.\nfor ax in axs:\n    ax.label_outer()\n\n# %%\n# Apart from ``True`` and ``False``, both *sharex* and *sharey* accept the\n# values 'row' and 'col' to share the values only per row or column.\n\nfig = plt.figure()\ngs = fig.add_gridspec(2, 2, hspace=0, wspace=0)\n(ax1, ax2), (ax3, ax4) = gs.subplots(sharex='col', sharey='row')\nfig.suptitle('Sharing x per column, y per row')\nax1.plot(x, y)\nax2.plot(x, y**2, 'tab:orange')\nax3.plot(x + 1, -y, 'tab:green')\nax4.plot(x + 2, -y**2, 'tab:red')\n\nfor ax in fig.get_axes():\n    ax.label_outer()\n\n# %%\n# If you want a more complex sharing structure, you can first create the\n# grid of axes with no sharing, and then call `.axes.Axes.sharex` or\n# `.axes.Axes.sharey` to add sharing info a posteriori.\n\nfig, axs = plt.subplots(2, 2)\naxs[0, 0].plot(x, y)\naxs[0, 0].set_title(\"main\")\naxs[1, 0].plot(x, y**2)\naxs[1, 0].set_title(\"shares x with main\")\naxs[1, 0].sharex(axs[0, 0])\naxs[0, 1].plot(x + 1, y + 1)\naxs[0, 1].set_title(\"unrelated\")\naxs[1, 1].plot(x + 2, y + 2)\naxs[1, 1].set_title(\"also unrelated\")\nfig.tight_layout()\n\n# %%\n# Polar axes\n# \"\"\"\"\"\"\"\"\"\"\n#",
                        "filename": "galleries/examples/subplots_axes_and_figures/subplots_demo.py",
                        "start_index": 2986,
                        "end_index": 5917,
                        "start_line": 105,
                        "end_line": 205,
                        "max_line": 211,
                        "git_instance": "github",
                        "repo_name": "testbed/matplotlib__matplotlib__3.6",
                        "sha": ""
                    },
                    "reason_for_relevance": "This snippet includes examples of using 'sharex' and 'sharey' in subplots, which is directly related to the issue of accepting 0 and 1 as boolean values."
                }
            ],
            "galleries/examples/subplots_axes_and_figures/shared_axis_demo.py": [
                {
                    "chunk": {
                        "code": "\"\"\"\n===========\nShared axis\n===========\n\nYou can share the x- or y-axis limits for one axis with another by\npassing an `~.axes.Axes` instance as a *sharex* or *sharey* keyword argument.\n\nChanging the axis limits on one axes will be reflected automatically\nin the other, and vice-versa, so when you navigate with the toolbar\nthe Axes will follow each other on their shared axis.  Ditto for\nchanges in the axis scaling (e.g., log vs. linear).  However, it is\npossible to have differences in tick labeling, e.g., you can selectively\nturn off the tick labels on one Axes.\n\nThe example below shows how to customize the tick labels on the\nvarious axes.  Shared axes share the tick locator, tick formatter,\nview limits, and transformation (e.g., log, linear).  But the ticklabels\nthemselves do not share properties.  This is a feature and not a bug,\nbecause you may want to make the tick labels smaller on the upper\naxes, e.g., in the example below.\n\nIf you want to turn off the ticklabels for a given Axes (e.g., on\nsubplot(211) or subplot(212)), you cannot do the standard trick::\n\n   setp(ax2, xticklabels=[])\n\nbecause this changes the tick Formatter, which is shared among all\nAxes.  But you can alter the visibility of the labels, which is a\nproperty::\n\n  setp(ax2.get_xticklabels(), visible=False)\n\n\"\"\"\nimport matplotlib.pyplot as plt\nimport numpy as np\n\nt = np.arange(0.01, 5.0, 0.01)\ns1 = np.sin(2 * np.pi * t)\ns2 = np.exp(-t)\ns3 = np.sin(4 * np.pi * t)\n\nax1 = plt.subplot(311)\nplt.plot(t, s1)\nplt.tick_params('x', labelsize=6)\n\n# share x only\nax2 = plt.subplot(312, sharex=ax1)\nplt.plot(t, s2)\n# make these tick labels invisible\nplt.tick_params('x', labelbottom=False)\n\n# share x and y\nax3 = plt.subplot(313, sharex=ax1, sharey=ax1)\nplt.plot(t, s3)\nplt.xlim(0.01, 5.0)\nplt.show()",
                        "filename": "galleries/examples/subplots_axes_and_figures/shared_axis_demo.py",
                        "start_index": 0,
                        "end_index": 1781,
                        "start_line": 1,
                        "end_line": 57,
                        "max_line": 57,
                        "git_instance": "github",
                        "repo_name": "testbed/matplotlib__matplotlib__3.6",
                        "sha": ""
                    },
                    "reason_for_relevance": "This snippet demonstrates the use of 'sharex' and 'sharey' in a subplot, which is relevant to the issue as it shows the expected behavior when these parameters are used correctly."
                }
            ],
            "galleries/examples/subplots_axes_and_figures/ganged_plots.py": [
                {
                    "chunk": {
                        "code": "\"\"\"\n==========================\nCreating adjacent subplots\n==========================\n\nTo create plots that share a common axis (visually) you can set the hspace\nbetween the subplots to zero. Passing sharex=True when creating the subplots\nwill automatically turn off all x ticks and labels except those on the bottom\naxis.\n\nIn this example the plots share a common x-axis, but you can follow the same\nlogic to supply a common y-axis.\n\"\"\"\nimport matplotlib.pyplot as plt\nimport numpy as np\n\nt = np.arange(0.0, 2.0, 0.01)\n\ns1 = np.sin(2 * np.pi * t)\ns2 = np.exp(-t)\ns3 = s1 * s2\n\nfig, axs = plt.subplots(3, 1, sharex=True)\n# Remove vertical space between axes\nfig.subplots_adjust(hspace=0)\n\n# Plot each graph, and manually set the y tick values\naxs[0].plot(t, s1)\naxs[0].set_yticks(np.arange(-0.9, 1.0, 0.4))\naxs[0].set_ylim(-1, 1)\n\naxs[1].plot(t, s2)\naxs[1].set_yticks(np.arange(0.1, 1.0, 0.2))\naxs[1].set_ylim(0, 1)\n\naxs[2].plot(t, s3)\naxs[2].set_yticks(np.arange(-0.9, 1.0, 0.4))\naxs[2].set_ylim(-1, 1)\n\nplt.show()",
                        "filename": "galleries/examples/subplots_axes_and_figures/ganged_plots.py",
                        "start_index": 0,
                        "end_index": 1014,
                        "start_line": 1,
                        "end_line": 40,
                        "max_line": 40,
                        "git_instance": "github",
                        "repo_name": "testbed/matplotlib__matplotlib__3.6",
                        "sha": ""
                    },
                    "reason_for_relevance": "This snippet also demonstrates the use of 'sharex' in subplots and discusses the visual alignment of shared axes, which is relevant to understanding the context of the issue."
                }
            ],
            "galleries/examples/subplots_axes_and_figures/share_axis_lims_views.py": [
                {
                    "chunk": {
                        "code": "\"\"\"\nSharing axis limits and views\n=============================\n\nIt's common to make two or more plots which share an axis, e.g., two subplots\nwith time as a common axis.  When you pan and zoom around on one, you want the\nother to move around with you.  To facilitate this, matplotlib Axes support a\n``sharex`` and ``sharey`` attribute.  When you create a `~.pyplot.subplot` or\n`~.pyplot.axes`, you can pass in a keyword indicating what axes you want to\nshare with.\n\"\"\"\n\nimport matplotlib.pyplot as plt\nimport numpy as np\n\nt = np.arange(0, 10, 0.01)\n\nax1 = plt.subplot(211)\nax1.plot(t, np.sin(2*np.pi*t))\n\nax2 = plt.subplot(212, sharex=ax1)\nax2.plot(t, np.sin(4*np.pi*t))\n\nplt.show()",
                        "filename": "galleries/examples/subplots_axes_and_figures/share_axis_lims_views.py",
                        "start_index": 0,
                        "end_index": 683,
                        "start_line": 1,
                        "end_line": 24,
                        "max_line": 24,
                        "git_instance": "github",
                        "repo_name": "testbed/matplotlib__matplotlib__3.6",
                        "sha": ""
                    },
                    "reason_for_relevance": "This snippet explains the concept of sharing axis limits and views, which is relevant to the issue as it provides background on how 'sharex' and 'sharey' are intended to function."
                }
            ]
        },
        "solution_task": "- Update the `subplots` and `GridSpecBase.subplots` methods to accept `0` and `1` as valid values for `sharex` and `sharey` by interpreting them as `False` and `True`, respectively.\n- Modify the error message to indicate that boolean values are accepted for `sharex` and `sharey`.\n- Ensure that the documentation for `subplots` and `GridSpecBase.subplots` reflects these changes.",
        "bouncer_response": {
            "score": 7,
            "criteria": "The RESPONSE must provide actionable, relevant guidance to more parts of the PROMPT's described issue to score higher.",
            "supporting_evidence": "The RESPONSE provides a clear and actionable solution to the bug described in the PROMPT by suggesting updates to the `subplots` and `GridSpecBase.subplots` methods to accept `0` and `1` as valid values for `sharex` and `sharey`. It also recommends modifying the error message for clarity and updating the documentation to reflect these changes. The RESPONSE aligns with the suggested fix in the PROMPT and addresses the main issue. However, the RESPONSE includes a section on 'Code snippets to check' with links to examples in a GitHub repository, which is not directly actionable for fixing the bug but provides context for the issue. This section does not directly contribute to resolving the bug but offers additional information that could be useful during the implementation of the fix.",
            "clarification_questions": "NONE"
        },
        "end_time": 1711697656.937288,
        "result": "- Update the `subplots` and `GridSpecBase.subplots` methods to accept `0` and `1` as valid values for `sharex` and `sharey` by interpreting them as `False` and `True`, respectively.\n- Modify the error message to indicate that boolean values are accepted for `sharex` and `sharey`.\n- Ensure that the documentation for `subplots` and `GridSpecBase.subplots` reflects these changes.\n\n### Code snippets to check\n\n-  \u2192 [galleries](https://github.com/testbed/matplotlib__matplotlib__3.6/tree//galleries) \u2192 [examples](https://github.com/testbed/matplotlib__matplotlib__3.6/tree//galleries/examples) \u2192 [subplots_axes_and_figures](https://github.com/testbed/matplotlib__matplotlib__3.6/tree//galleries/examples/subplots_axes_and_figures)- [Lines 105 - 205](https://github.com/testbed/matplotlib__matplotlib__3.6/blob//galleries/examples/subplots_axes_and_figures/subplots_demo.py#L105-L205)\n\n This snippet includes examples of using 'sharex' and 'sharey' in subplots, which is directly related to the issue of accepting 0 and 1 as boolean values.\n-  \u2192 [galleries](https://github.com/testbed/matplotlib__matplotlib__3.6/tree//galleries) \u2192 [examples](https://github.com/testbed/matplotlib__matplotlib__3.6/tree//galleries/examples) \u2192 [subplots_axes_and_figures](https://github.com/testbed/matplotlib__matplotlib__3.6/tree//galleries/examples/subplots_axes_and_figures)- [Lines 1 - 57](https://github.com/testbed/matplotlib__matplotlib__3.6/blob//galleries/examples/subplots_axes_and_figures/shared_axis_demo.py#L1-L57)\n\n This snippet demonstrates the use of 'sharex' and 'sharey' in a subplot, which is relevant to the issue as it shows the expected behavior when these parameters are used correctly.\n-  \u2192 [galleries](https://github.com/testbed/matplotlib__matplotlib__3.6/tree//galleries) \u2192 [examples](https://github.com/testbed/matplotlib__matplotlib__3.6/tree//galleries/examples) \u2192 [subplots_axes_and_figures](https://github.com/testbed/matplotlib__matplotlib__3.6/tree//galleries/examples/subplots_axes_and_figures)- [Lines 1 - 40](https://github.com/testbed/matplotlib__matplotlib__3.6/blob//galleries/examples/subplots_axes_and_figures/ganged_plots.py#L1-L40)\n\n This snippet also demonstrates the use of 'sharex' in subplots and discusses the visual alignment of shared axes, which is relevant to understanding the context of the issue.\n-  \u2192 [galleries](https://github.com/testbed/matplotlib__matplotlib__3.6/tree//galleries) \u2192 [examples](https://github.com/testbed/matplotlib__matplotlib__3.6/tree//galleries/examples) \u2192 [subplots_axes_and_figures](https://github.com/testbed/matplotlib__matplotlib__3.6/tree//galleries/examples/subplots_axes_and_figures)- [Lines 1 - 24](https://github.com/testbed/matplotlib__matplotlib__3.6/blob//galleries/examples/subplots_axes_and_figures/share_axis_lims_views.py#L1-L24)\n\n This snippet explains the concept of sharing axis limits and views, which is relevant to the issue as it provides background on how 'sharex' and 'sharey' are intended to function."
    }
}